var _0x11bb=["from","isArray","length","uuid","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx","random","toString","first","concat","reduce","shrink","last","slice","unikey","object","assign","reverse","apply","iterator","function","constructor","prototype","symbol","Invalid attempt to spread non-iterable instance","call","[object Arguments]"];!function(r,n){!function(n){for(;--n;)r.push(r.shift())}(++n)}(_0x11bb,382);var _0x1faa=function(r,n){return _0x11bb[r-=0]};function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol[_0x1faa("0x0")]?function(r){return typeof r}:function(r){return r&&typeof Symbol===_0x1faa("0x1")&&r[_0x1faa("0x2")]===Symbol&&r!==Symbol[_0x1faa("0x3")]?_0x1faa("0x4"):typeof r})(r)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(_0x1faa("0x5"))}function _iterableToArray(r){if(Symbol[_0x1faa("0x0")]in Object(r)||Object[_0x1faa("0x3")].toString[_0x1faa("0x6")](r)===_0x1faa("0x7"))return Array[_0x1faa("0x8")](r)}function _arrayWithoutHoles(r){if(Array[_0x1faa("0x9")](r)){for(var n=0,t=new Array(r.length);n<r[_0x1faa("0xa")];n++)t[n]=r[n];return t}}String[_0x1faa("0x3")][_0x1faa("0xb")]=function(){return _0x1faa("0xc").replace(/[xy]/g,function(r){var n=16*Math[_0x1faa("0xd")]()|0;return("x"===r?n:3&n|8)[_0x1faa("0xe")](16)})},Array[_0x1faa("0x3")][_0x1faa("0xf")]=function(){return this[0]},Array[_0x1faa("0x3")].last=function(){return this[this.length-1]},Array[_0x1faa("0x3")].flatMap=function(r){return this.reduce(function(n,t){return _toConsumableArray(n)[_0x1faa("0x10")](_toConsumableArray(r(t)))},[])},Array[_0x1faa("0x3")].flatten=function(){return this[_0x1faa("0x11")](function(r,n){return _toConsumableArray(r).concat(_toConsumableArray(n))},[])},Array[_0x1faa("0x3")][_0x1faa("0x12")]=function(r){return this.reduce(function(n,t){return n[_0x1faa("0x13")]()[_0x1faa("0xa")]<r?_toConsumableArray(n[_0x1faa("0x14")](0,n[_0x1faa("0xa")]-1))[_0x1faa("0x10")]([_toConsumableArray(n.last())[_0x1faa("0x10")]([curr])]):n.concat([[curr]])},[])},Array[_0x1faa("0x3")][_0x1faa("0x15")]=function(r){return this.map(function(r){return _typeof(r)===_0x1faa("0x16")?Object[_0x1faa("0x17")]({},r,{"@@key":"".uuid()}):r})},Function.prototype.flip=function(){var r=this;return function(){for(var n=arguments[_0x1faa("0xa")],t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return r.apply(void 0,_toConsumableArray(t[_0x1faa("0x18")]()))}},Function[_0x1faa("0x3")].invoke=function(){return this[_0x1faa("0x19")](void 0,arguments)},Function[_0x1faa("0x3")].combine=function(r){var n=this;return function(){return n(r[_0x1faa("0x19")](void 0,arguments))}},module.exports=function(r){var n={};function t(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return r[e].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="/",t(t.s=6)}([function(r,n){r.exports=require("express")},function(r,n){r.exports=require("mongoose")},function(r,n){r.exports=require("@elementary/proper")},function(r,n){r.exports=require("jsonwebtoken")},function(r,n){r.exports=require("http-errors")},function(r,n,t){"use strict";t.r(n);var e=t(4),a=t.n(e),o=t(0),x=t.n(o),u=t(3),i=t.n(u),f=x.a.Router();const s=process.env.PUBLICKEY;f.get("/",function(r,n){n.send({title:"Express"})});f.get("/verify",async(r,n)=>{r.headers.authorization||n.send(n,403,{boo:"No Token"});try{await c(r.headers.authorization.split(" ")[1])}catch(r){n.send(n,403,{boo:"Authentication Failed"})}});const c=r=>new Promise((n,t)=>{i.a.verify(r,s,{algorithms:["HS256"]},function(r,e){r?t(r):n(e)})});var l=f;var _={port:process.env.PORT||8e3},p=t(1),y=t.n(p),b="mongodb://root:admin@ds125680.mlab.com:25680/snippetsniper";y.a.Promise=global.Promise;var d=t(2);const m=x()();m.use(x.a.json()),m.use(x.a.urlencoded({extended:!1})),m.use(function(r,n,t){t(a()(404))}),Object(d.binder)().add(r=>(console.log(b),r.connectThenListen=(async(n,t)=>await y.a.connect(b).then(()=>{r.listen(n,t)}).catch(r=>console.log(r))),r)).add(r=>r).invoke(m).use("/",l).use("/users",l),m.use(function(r,n,t){t.locals.message=r.message,t.locals.error="development"===n.app.get("env")?r:{},t.status(r.status||500),t.render("error")}),m.connectThenListen(_.port,r=>{r?console.log("Something Went Wrong"):console.log(`Server running at ${_.port}`)})},function(r,n,t){r.exports=t(5)}]);